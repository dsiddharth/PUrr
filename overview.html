<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN"
"http://www.w3.org/TR/html4/loose.dtd">
<html>
<title>PUrr :: Overview</title>
<body>

<h1 align="center">PUrr - Princeton University Room Registration</h1>
<h2 align="center"
<a href="333.html">Main Page</a>
&nbsp;
<a style="font-size:150%" href="#">Project Overview</a>
&nbsp;
<a href="timeline.html">Project Timeline</a>
</h2>
<hr/>

<h2>Identification</h2>
<p>
<strong> Project Name: </strong> PUrr (Princeton University Room Registration)
<br />
<strong> Team Members: </strong>
 <a href="mailto:cadamuro.gabriel@gmail.com">Gabe Cadamuro</a>, 
 <a href="mailto:dsiddharth@gmail.com">Siddharth Dhulipalla</a>, 
 <a href="mailto:rmcgibbo@princeton.edu">Robert McGibbon</a>,
 <a href="mailto:ijulien@Princeton.EDU">Isaac Julien</a>
<br />
<strong> Project Manager: </strong>
<a href="mailto:cadamuro.gabriel@gmail.com">Gabe Cadamuro</a>
</p>
<hr/>

<img src="diagram.png" style="float:right; width:700px"/>

<h2> Overview </h2>
<p> University students often need to reserve rooms in buildings spread throughout the campus tailored to their specific needs. The president of a student club, for instance, might need to reserve a room with a projector, which can accommodate a crowd of at least a certain size.</p>
<p> Currently, room reservations are controlled by a number of disparate systems that, at their core, involve the manual exchange of emails between a prospective user and administrator. To reserve a room in Wilson College, a student can currently submit an online <a href="http://www.princeton.edu/wilsoncollege/services/request-to-reserve-a-room/">form</a> on the Wilson college website. To reserve in Forbes college, the Forbes <a href="http://www.princeton.edu/forbescollege/whats-where/multi-purpose-room/">website</a> recommends stopping by the College office. Reserving a space in Frist campus center requires using another <a href="http://www.princeton.edu/uscheduling/schedorrform.html">form</a>.</p>
<p>PUrr -- the Princeton University Room Registrar -- will consolidate these functions into a single, easy to use, online tool that allows students to browse university spaces by availability, facilities, location, and other relevant criterion and then easily request a space. It will allow administrators to set room availability and policies, approve or deny requests, and easily view upcoming reservations.</p>
<div style="clear:both"/>
<hr/>


<h2> Requirements </h2>
<p> PUrr will provide an easy and centralized tool for student groups and university officials to reserve rooms in Wilson College. The main aims can be summarized as 1) consolidation of all information and requesting power on one website 2) automated reservation system that requires minimal administrative attention 3) high level of control for college officials over which rooms can be reserved and how 4) an easy way for students to find feasible rooms given some specifications of their needs.</p>
<p>One set of users will be students who need a room to organize events/meetings for university approved clubs. This group has two main issues: finding out which room would actually fit their needs best and booking it. The first one is addressed using our room-searching function which will contain information on the size/features/availability of any room in the database, as well as information pages for each room. The second task will be made easier by allowing students to see at which times a room has already been booked as well as getting a rapid automated reply to a request instead of waiting for an administrator to reply. </p>
<p>Our second group of users are the college officials who approve room reservations and decide how rooms are to be used. Their primary aim is to specify rules of reservation for each room (how far in advance they can be booked, what sort of credentials are needed e.t.c) and see them enforced with minimal effort. We allow them a great deal of control over the system by providing them a website which accesses the database and changes reservation permissions/rules as needed. Moreover, the administrators will be able to see the calendar for every room they are accountable for and block off periods of time as they see fit. Being able to set room reservation rules also means that unless they specifically request to manually approve each request they might be able to automatically process requests via university authentication systems such as CAS. </p>
<hr/>


<h2> Functionality </h2>
<p>A student user, after logging in through CAS, will see a screen dominated by a map of campus. A sidebar will give him or her the opportunity to select search criterion such as date, time, room size, available audiovisual equipment, etc. Upon updating the search criterion, building shown on the campus map will dynamically come in and out focus. Buildings with no available rooms fitting the search criteria will be greyed out or removed, where as building with rooms matching the criteria will appear in full color. Rolling the mouse over a building will pop up a blurb showing the available rooms, perhaps with a picture, description, information, and a "request reservation" link.</p>
<p>After filling out a small form, the a reservation will be created with the status "pending approval". After approval (or denial) by a relevant administrator, the student will receive an email detailing their reservation.</p>
<p>A student's upcoming room reservations will be also visible in a part of the site accessible from the main page.</p>
<p>An administrator, after logging in, will see a welcome screen. From here he or she will be able to view and respond to the pending room requests appropriate to his or her position ( for instance a Forbes Dean will only see room requests relevant to Forbes College). The administrator will also see a calender view of the upcoming reservations. Like the search form for student requests, an administrator will be able to restrict the number of future events shown based on any number of search criterion.</p>
<p>Initially, this system will only be used for reservable rooms in the residential colleges. However none of the code will be written in such a way as to preclude expansion to more building and spaces on campus under the direct control of different administrators. Pending successful implementation in the residential colleges, expansion will be considered.</p>
<p>
Furthermore, concurrent with this expansion out of the residential colleges, we may add support for more diverse user classes. For instance, professors often need to schedule rooms to hold research group meetings and workshops in. Currently these requests are handled on a department by department basis, which is largely appropriate. Once our system is operational in the residential colleges, we will demonstrate its utility to selected departmental staff responsible for room scheduling. At that point, if the capabilities of our system exceeds that which some of the academic departments are using and the relevant departmental staff show interest, we will expand the capabilities of our system to serve this class of users.</p>
<p>Over the duration of the COS333 course, PUrr will run on the CS department servers (penguins) in one our group member's public_html folder. Pending true adoption by the residential colleges, it can be moved to a location of their choosing. It will run using by Apache Web Server on 64-bit Red Hat linux installations, and programmed in python using the django web framework. The user interface will be largely built with HTML and CSS working against the server side scripting in python. AJAX will be used to used to display some of the content, especially for the student search interface. Django's ORM will be used to wrap all of our database access into native python classes. This, combined with the use of Django's templating system will help us maintain strict separation between the model, view and controller components. For version control, we will use the git version control system. Project source code will be hosted on Github.</p>
<hr/>


<h2> Design </h2>
<p> For the databse, we will use Django's ORM wrapped around a MqSQL database. This structure will help us avoid having to write any MySQL, and will abstract away the interaction with the databse into natural python classes</p>
<p> The database will be roughly structured as followed. There's some uncertainty because we're not clear exactly what's contained in Dean Herschbach's room databse. </p>
<p> * represnts a primary key, ** represents a foreign key </p>
<ul>
  <li>
    rooms
    <ul>
      <li> id* </li>
      <li> location #human readable location on campus</li>
      <li> map_key #key that gives its location w/r/t the campus map </li>
      <li> description </li>
      <li> features #features of the room (audiovisual, etc) [should this be another table?]</li>
      <li> department_id** #the relevant administrator group responsible for the room</li>
      <li> image(s) </li>
    </ul>
  </li>
  <li>
    students
    <ul>
      <li> id* </li>
      <li> netid </li>
      <li> sgroup_id** </li>
      <li> first_name </li>
      <li> last_name </li>
    </ul>
  </li>
  <li>
    sgroups
    <ul>
      <li> id* </li>
      <li> name </li>
      <li> status #status code corresponding to the rank of student groups. Maybe some groups have higher 'permissions' than others?</li>
    </ul>
  </li>
  <li>
    admins
    <ul>
      <li> id* </li>
      <li> netid </li>
      <li> department_id** </li>
      <li> first_name </li>
      <li> last_name </li>
    </ul>
  </li>
  <li>
    departments
    <ul>
       <li> id* </id>
       <li> name </li>
    </ul>
  </li>
  <li>
    requests
    <ul>
      <li> id* </li>
      <li> student_id** #requesting student</li>
      <li> admin_id** #the administrator who responded to the request (or null if pending)</li>
      <li> room_id** </li>
      <li> date_created </li>
      <li> date </li>
      <li> start_date #time that the room was requested for</li>
      <li> end_date </li>
      <li> status #enum {pending, approved, denied} </li>
      <li> action_date #when was the request acted upon </li>
      <li> notes #special text submitted in the request</li>
    </ul>
  </li>
  <li>
    some tables are going to be necessary to keep track of a calendar. What dates/times are available to be booked for? What times are off limits? This needs to be done on both a global basis (you can only book rooms while school is in session, etc), and also a local basis for each room (wilson college common room is out for construction between these dates)
  </li> 
</ul>
<p> [More description of what the database will like like is needed here. What are the tables, what are the fields, etc]
<hr/>

<h2> Milestones </h2>

<p>Our aim in designing these milestones was to provide a set of verifiable properties that incrementally build on each other. In this way we would hope to have a functional (although basic) system early on and successively refine it instead of drawing everything together late in the semester.
Milestones are split into topics. A is the student side, B is the database/server side of things, C is the administrator side of things and D represents 'reach' features which heavily depend on the previous three.</p>
<br>

<p>Milestone A1: Student website basic request function. The milestone here is being able to communicate with our server (holding a test database at this point) and make a basic room request and have that request be noted in the db or have a rejection message be sent back if that slot is taken.</p>

<p>Milestone A2: Student website search feature implemented. Students are able to search for rooms based on availability, capacity and features on a test database.</p>

<p>Milestone A3: Student website search feature feedback. Student group leaders will be given a link to the beta website and asked how well the website performs given a simulated query. At this point the server would be using the real database.</p>

<p>Milestone A4: Permissions implemented. All requests now run through CAS as well as any additional permissions requested by administrator so students should receive appropriate rreplies conditioned on the credentials offered. Requires C3</p>

<p>Milestone A5: Room pages added. All rooms will have a page displaying information, calendar info and a picture. Requires B2.</p>
<br>

<p>Milestone B1: Set up a skeleton server on Penguins. This will contain all the fields mentioned in 'Design' but will just have a few test rooms at inception. This does not include all the administrator control on what students can see/edit.</p>
<p>Milestone B2: Add all the rooms (and their relevant properties) that we will be administering to the database. This may include adding information (e.g the geographic data) by hand.</p>
<p>Milestone B3: Ask Dean Herschbach for feedback on basic design (without administrative control)</p>
<p>Milestone B4: Incorporate administrator controls. This means students can only book a few weeks in advance and that certain reservations require manual approval.</p>
<br>
<p>Milestone C1: Website is built and able to view calendars for all rooms in the database. At this point, the test databse is fine.</p>
<p>Milestone C2: Administrators can now start specifying the aforementioned restrictions and required credentials on any room. </p>
<p>Milestone C3: Same as B3</p>
<p>Milestone C4: Incorporate the features for setting/changing the rules for booking a certain room. Integrates with B4</p>
<p>Milestone C5: Implement different permissions for different departments/colleges. For example after this, a Forbes official will no longer be able to modify the rules for a Wilson college owned room. </p>
<p>Milestone C6: Solicit feedback on updates model from multiple administrators.</p>
<br>
<p>Milestone D1: Add the interactive Princeton map that allows one to either select a room visually or allows one to see where a selected room on campus is. Requires A2 and B2.
</p><p>Milestone D2: Port to Princeton university iPhone App. Requires A5, C4 and C5.</p>

<br><p> Given these milestones we have given a realistic schedule of work below. This model timeline gives us time to accomplish some of our 'reach' goals and also
includes slots for preparing the final presentation. If we find that we are getting significantly ahead: we may move up objectives with the goal
of being able to implement D2 in time for the beta. </p>

<ul>
 <li> March 13th - March 20th: Meet with Dean Herschbach to discuss project overview document, A1 and B1 complete. Complete B2 if list is available
in its entirety.</li>
 <li> March 21st - March 28th: B2 and A2.</li>
 <li> March 29th - April 4th: A3 and C1. </li>
 <li> April 4th - April 10th: C2 and A4 </li>
 <li> April 11th - April 17th: C4/B4 followed by B3/C3 </li>
 <li> April 18th - April 24th: A5 + C6 + Alpha demo preperation </li>
 <li> April 25th - May 1st: D1 +  beta preperation </li> 
 <li> May 2nd - May 8th: C5  + final presentation </li>
</ul>

<hr/>

<h2> Risks and Open Issues </h2>
<p> Maintaining close coordination with Dean Herschbach will be essential and tricky. </p>
<p> Learning the Django framework. </p>
<p> Interfacing sucesfully with the university authentication system, not just for users, but for 'valid student groups'.</p>
<p> Trying to ennumerate the different types of permissions and credentials not covered by CAS.</p>
<p> Getting CAS and Django to work together. <a href="http://code.google.com/p/django-cas/">This</a> might help us. </p>
<p> The room database may not include some of the information we think is important for students.</p>
<p> None of us have any familarity with programming iOS apps (see 'Reach Features')</p>
<hr/>

<h2> Reach Features </h2>
Once we have our basic set of features up and running, we plan to add several additional features as time permits. One idea is to include pictures of each room, so that someone browsing for a room to reserve can see what each room looks like before making a choice. We also hope to allow users to leave comments on the rooms that they reserve. This would give other users more information and warn them about problems with the room (broken projector, etc.).
<p>
We also hope to extend this application to other colleges and departments. PUrr's design would allow for this without any changes to most of the underlying system. We would only need to change the building or department-specific elements of the user interface, such as room features and user authentication. An ideal candidate would be the Music department building, where booking rooms for music group practice is problematic.
</p>
<p>We also hope to write an iOS application having much of the same functionality described above, which will either become an extension to the Princeton University app or its own separate app in the iTunes Store. This is something Dean Herschbach suggested and would take a fair amount of effort.</p>
</body>
</html>